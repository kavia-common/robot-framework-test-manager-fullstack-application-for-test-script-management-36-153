{"is_source_file": true, "format": "Python", "description": "FastAPI router module for managing execution queue of test cases in the backend API. Includes endpoints to list, add, and remove queued test cases, utilizing database models and role-based access control.", "external_files": ["../auth", "../database", "../models"], "external_methods": ["require_roles", "get_db"], "published": ["router"], "classes": [{"name": "QueueItemOut", "description": "Schema for outputting queued test case items, including case ID, status, and queued timestamp."}, {"name": "QueueAddIn", "description": "Schema for adding test cases to the queue, requiring a list of case IDs."}], "methods": [{"name": "list_queue( db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )", "description": "GET endpoint to list all currently queued test cases, ordered by priority and ID.", "scope": "", "scopeKind": ""}, {"name": "add_to_queue( payload: QueueAddIn, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\")), )", "description": "POST endpoint to add one or more test cases to the queue; filters out invalid case IDs.", "scope": "", "scopeKind": ""}, {"name": "remove_from_queue( case_id: int, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\")), )", "description": "DELETE endpoint to remove a specific test case from the queue by case ID.", "scope": "", "scopeKind": ""}], "calls": ["db.query(ExecutionQueue).order_by(ExecutionQueue.priority.asc(), ExecutionQueue.id.asc()).all()", "db.query(TestCase).get(cid)", "db.query(ExecutionQueue).filter(ExecutionQueue.case_id == case_id, ExecutionQueue.status == \"queued\").first()", "db.delete(item)", "db.commit()"], "search-terms": ["queue", "ExecutionQueue", "add_to_queue", "remove_from_queue", "list_queue", "test cases", "API router", "FastAPI"], "state": 2, "file_id": 12, "knowledge_revision": 41, "git_revision": "b566aa8e2a5fcced96ab529673eac204d910f624", "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "QueueItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "QueueAddIn", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^class QueueAddIn(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QueueItemOut", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^class QueueItemOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "add_to_queue", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^def add_to_queue($/", "language": "Python", "kind": "function", "signature": "( payload: QueueAddIn, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\")), )"}, {"_type": "tag", "name": "case_ids", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^    case_ids: List[int] = Field(..., description=\"List of case IDs to add to queue\")$/", "language": "Python", "typeref": "typename:List[int]", "kind": "variable", "scope": "QueueAddIn", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "QueueItemOut.Config", "scopeKind": "class"}, {"_type": "tag", "name": "list_queue", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^def list_queue($/", "language": "Python", "kind": "function", "signature": "( db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )"}, {"_type": "tag", "name": "remove_from_queue", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^def remove_from_queue($/", "language": "Python", "kind": "function", "signature": "( case_id: int, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\")), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/queue.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}], "hash": "1d6a77135c3d47243d335d8c1cc676c4", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/routers/queue.py", "fields": [{"name": "List[int] case_ids", "scope": "QueueAddIn", "scopeKind": "class", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "QueueItemOut.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"41": "b566aa8e2a5fcced96ab529673eac204d910f624"}]}