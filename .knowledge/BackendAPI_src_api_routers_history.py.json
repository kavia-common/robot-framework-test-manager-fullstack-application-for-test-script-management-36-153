{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints using FastAPI for managing and retrieving test run history, including listing, detailed retrieval, and log access for test runs. It includes data models, route handlers, and interactions with storage and database layers.", "external_files": ["src/database/connection", "src/database/models", "src.services.minio_service"], "external_methods": ["get_db", "minio_service.get_file_url"], "published": ["list_run_history", "get_run_history", "get_execution_logs"], "classes": [{"name": "RunHistoryResponse", "description": "Pydantic model representing the detailed response for a run history entry."}, {"name": "PaginationResponse", "description": "Pydantic model for paginated list responses containing multiple run history entries."}, {"name": "LogResponse", "description": "Pydantic model for providing a single log URL."}], "methods": [{"name": "list_run_history( case_id: Optional[str] = Query(None), status: Optional[str] = Query(None), page: int = Query(1, ge=1), page_size: int = Query(10, ge=1, le=100), db: Session = Depends(get_db) )", "description": "HTTP GET endpoint to list run histories with optional filters and pagination.", "scope": "", "scopeKind": ""}, {"name": "get_run_history( run_id: str, db: Session = Depends(get_db) )", "description": "HTTP GET endpoint to retrieve details of a specific run history entry by ID.", "scope": "", "scopeKind": ""}, {"name": "get_execution_logs( run_id: str, db: Session = Depends(get_db) )", "description": "HTTP GET endpoint to retrieve the URL for logs associated with a specific run.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "db.query.filter", "db.query.order_by", "minio_service.get_file_url", "json.loads", "RunHistory.status.value"], "search-terms": ["FastAPI", "RunHistory", "history endpoint", "log file URL", "pagination", "test run history", "minio storage", "DB session", "log retrieval"], "state": 2, "file_id": 17, "knowledge_revision": 89, "git_revision": "a629b5b37c9b16cb48c78d6cf5fe937d10ef54ad", "revision_history": [{"44": ""}, {"53": ""}, {"89": "a629b5b37c9b16cb48c78d6cf5fe937d10ef54ad"}], "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "RunHistoryResponse", "scopeKind": "class"}, {"_type": "tag", "name": "LogResponse", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^class LogResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaginationResponse", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^class PaginationResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RunHistoryResponse", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^class RunHistoryResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "finished_at", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^    finished_at: datetime = None$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "RunHistoryResponse", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "RunHistoryResponse.Config", "scopeKind": "class"}, {"_type": "tag", "name": "get_execution_logs", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^async def get_execution_logs($/", "language": "Python", "kind": "function", "signature": "( run_id: str, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "get_run_history", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^async def get_run_history($/", "language": "Python", "kind": "function", "signature": "( run_id: str, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "list_run_history", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^async def list_run_history($/", "language": "Python", "kind": "function", "signature": "( case_id: Optional[str] = Query(None), status: Optional[str] = Query(None), page: int = Query(1, ge=1), page_size: int = Query(10, ge=1, le=100), db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "log_url", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^    log_url: str = None$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RunHistoryResponse", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^router = APIRouter(prefix=\"\\/history\", tags=[\"history\"])$/", "language": "Python", "kind": "variable"}], "hash": "152aee781337bab1faa86c3d415e333d", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/routers/history.py", "fields": [{"name": "datetime finished_at", "scope": "RunHistoryResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "RunHistoryResponse.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "str log_url", "scope": "RunHistoryResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/history\", tags=[\"history\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}