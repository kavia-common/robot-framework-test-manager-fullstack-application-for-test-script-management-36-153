{"is_source_file": true, "format": "Python", "description": "This source file defines API endpoints using FastAPI for managing and retrieving run history records, including listing run histories with filtering and pagination, and retrieving details for a specific run.", "external_files": ["../auth", "../database", "../models"], "external_methods": ["require_roles", "get_db", "RunHistory", "RunHistoryOut.model_validate"], "published": ["list_history", "get_run"], "classes": [{"name": "RunHistoryOut", "description": "Pydantic model for serializing run history data to the client, with fields for id, case_id, status, start_time, end_time, and log_path."}], "methods": [{"name": "list_history( case_id: Optional[int] = Query(None), status_filter: Optional[str] = Query(None, alias=\"status\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )", "description": "API endpoint to list run history entries with optional filtering by case_id and status, with pagination support.", "scope": "", "scopeKind": ""}, {"name": "get_run( run_id: int, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )", "description": "API endpoint to retrieve detailed information about a specific run history entry by run_id.", "scope": "", "scopeKind": ""}], "calls": ["db.query(RunHistory)", "q.filter(RunHistory.case_id == case_id)", "q.filter(RunHistory.status == status_filter)", "q.count()", "q.order_by(RunHistory.id.desc())", "q.offset((page - 1) * page_size).limit(page_size).all()", "RunHistoryOut.model_validate(i)", "db.query(RunHistory).get(run_id)"], "search-terms": ["FastAPI run history", "history listing API", "retrieve run details", "RunHistory model", "pagination filtering"], "state": 2, "file_id": 14, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "RunHistoryOut", "scopeKind": "class"}, {"_type": "tag", "name": "RunHistoryOut", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^class RunHistoryOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "RunHistoryOut.Config", "scopeKind": "class"}, {"_type": "tag", "name": "get_run", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^def get_run($/", "language": "Python", "kind": "function", "signature": "( run_id: int, db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )"}, {"_type": "tag", "name": "list_history", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^def list_history($/", "language": "Python", "kind": "function", "signature": "( case_id: Optional[int] = Query(None), status_filter: Optional[str] = Query(None, alias=\"status\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), db: Session = Depends(get_db), _: Any = Depends(require_roles(\"admin\", \"tester\", \"viewer\")), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/routers/history.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}], "hash": "7c9a87536d97e17699e2f74bbf2d21db", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/routers/history.py", "fields": [{"name": "from_attributes = True", "scope": "RunHistoryOut.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"28": ""}]}