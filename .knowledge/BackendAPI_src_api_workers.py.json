{"is_source_file": true, "format": "Python", "description": "This source file contains the implementation of a background worker for processing test execution queue items. It manages database interactions, simulation of test runs, logging, and thread management.", "external_files": ["api.database", "api.minio_client", "api.models"], "external_methods": ["api.database.SessionLocal", "api.minio_client.get_minio_client", "api.models.ExecutionQueue", "api.models.RunHistory"], "published": ["start_background_worker"], "classes": [], "methods": [{"name": "_process_item(db: Session, item: ExecutionQueue)", "description": "Simulates executing a test case, updates run history, logs output to Minio, and deletes the queue item.", "scope": "", "scopeKind": ""}, {"name": "_worker_loop()", "description": "Continuously polls the execution queue, updates item status, and processes items.", "scope": "", "scopeKind": ""}, {"name": "start_background_worker()", "description": "Starts a background thread that runs the worker loop once.", "scope": "", "scopeKind": ""}], "calls": ["api.database.SessionLocal", "api.minio_client.get_minio_client", "time.sleep", "io.BytesIO", "datetime.utcnow", "db.add", "db.flush", "client.put_object", "db.delete", "db.commit", "logger.info", "logger.error", "threading.Thread"], "search-terms": ["worker", "background thread", "execution queue", "test run simulation", "Minio logging", "database session", "queue processing"], "state": 2, "file_id": 16, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "_process_item", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/workers.py", "pattern": "/^def _process_item(db: Session, item: ExecutionQueue):$/", "language": "Python", "kind": "function", "signature": "(db: Session, item: ExecutionQueue)"}, {"_type": "tag", "name": "_worker_loop", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/workers.py", "pattern": "/^def _worker_loop():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_worker_started", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/workers.py", "pattern": "/^_worker_started = False$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/workers.py", "pattern": "/^logger = logging.getLogger(\"BackendWorker\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_background_worker", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-153/BackendAPI/src/api/workers.py", "pattern": "/^def start_background_worker():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "3b506ad5cdff5aab9bdb89aa39ddec33", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/workers.py", "fields": [{"name": "_worker_started = False", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"BackendWorker\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"32": ""}]}